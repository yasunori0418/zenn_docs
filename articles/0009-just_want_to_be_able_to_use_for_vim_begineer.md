---
title: "とりあえずvimを使えるようになりたい人のための記事"
emoji: "🔰"
type: "tech" # tech: 技術記事 / idea: アイデア
topics:
  - Vim
  - Neovim
  - 初心者
published: true
publication_name: vim_jp
published_at: 2024-04-17
---

<!-- textlint-disable -->
:::message
この記事は[Vim駅伝](https://vim-jp.org/ekiden/)の2024-04-17向けの記事です。
:::
<!-- textlint-enable -->

## 始めに

私が「Vimはいいぞ」って言っていると、「どうやって始めたらいいですか？」という質問がたまにあります。
今回はそんな人に向けて、「Vimの始め方指南書」になったらよいなと思って書いていきます。

### 目標

1. Vimの流儀に沿った操作方法を覚える
    - InsertModeでカーソル移動しないetc...
1. `.vimrc`を作成する
    - 最低限の`.vimrc`を作成して、ちょっと快適に操作できるようになる
1. プラグインのインストールを次のステップとして視野に入れる
    - あくまでも視野に入れるだけ、プラグインのインストールはしない

### 非目標

1. Vim使いこなせるようになる
    - この記事でそこまで誘導することは目標ではない
1. プラグインをインストールする
    - 目標でも記載しているが、プラグインのインストールはしない

### 対象とする読者

1. Vimを始めたい人
    - 「*なんとなく始めたい人*」、というより、「**ちゃんと使えるようになりたい人**」
1. Vimがいいと聞いているけど、いまいち使えている感覚になっていない人
    - とりあえず`:wq`で保存、`:q!`で保存しないで終了、くらいが分かっている人
1. 黒い画面でカタカタしながら、キーボードだけで操作できるようになりたい人
    - **よ う こ そ**

## Step.1 ちゃんとVimをインストールする

**「Vimを使えるようになりたい」**
そう言いながら、ちゃんとVimをインストールしていなかったり、サーバーに入っている`vi`互換バージョンを使用している可能性があります。
Vimを使いたいなら最新のVimを使いましょう。

最新であれば、セキュリティパッチが適応されていたり、便利な機能が盛り込まれていたりします。
業務で使用するVimが、最新のVimでなければ、頑張って申請してみましょう。
セキュリティ的に安全という言葉は、十分に交渉材料として役立つでしょう。
現在のVim開発体制について、VimConf2023 TinyでKen Takata氏より発表があります。

https://github.com/k-takata/zenn-contents/blob/master/articles/files/vimconf2023_takata_lt.pdf

### Linux

Vimを使うなら最高の環境です。
インストール方法は書くまでも無いと思っていますが、一応。

```bash
# Ubuntu or Debian
sudo apt install vim

# RHEL
sudo dnf install vim
```

Linuxをお使いであれば、行く行くはビルドしてHEADを使うという選択もいいと思います。
しかしながら、初心者がVimをビルドしている姿をイメージできなかったので、ここでは紹介を省きます。

### Mac

MacにはVimがプリインストールされていますが、バージョンが古いです。
正しく、Vimをインストールしましょう。
Macなら大抵はHomebrewを使っていると思われるので、コマンドだけ貼っておきます。

```bash
brew install vim
```

### Windows

私はWindowsを主戦場としていないので、コマンドからのインストール方法は詳しくありません。

https://github.com/vim/vim-win32-installer/releases

ここで、Windows版のインストーラーが配布されているので、ポチポチしてインストールしてください。

~~ここで「Windows消せ」などという無粋なことは言いませんよ…？~~

## Step.2 日常のちょっとした編集にVimを取り入れる

実は私、最初からvimtutorをまじめに完了させてから、Vimを使い出していません。
Vimのキーマップのチートシートを片手に操作を覚えていきました。
Vimを覚えたい人は、次の方法を実践してください。

1. これから紹介するキーマップを**意識しないで操作できる**ようになる
1. ターミナルエミュレータ（黒い画面）で操作する
1. 一日の内に遭遇する**小さなテキスト編集**でVimを使用する
1. **絶対に**InsertModeでカーソルキーを使って移動しない
1. カーソルを移動したかったら**必ず**NormalModeに変更する
1. 疲れたら**いつものエディタに戻ってもよい**が、次の日に1回はVimを使う

vimtutorの実施はお好みでお任せします。
理想としては、どこかのタイミングで実施したらよいと思っていますが、タイミングは各自にお任せします。
必要と感じたら実施するとよいでしょう。

とにかく伝えたいのは、繰替えしVimの操作を反復することで、Vimの基礎的なキーマップが咄嗟に出てくるようになると、Vimの良さが分かるはずです。

### キーマップ

特別に凝った操作はできるようになろうと思わなくて大丈夫です。
次のコマンドを日常的に使えるようになれば、基本的には困りません。

<!-- textlint-disable -->

|Mode              |Key                   |Description                                                        |
|------------------|----------------------|-------------------------------------------------------------------|
|Normal / Visual   |`h`                   |左にカーソルを移動する                                             |
|Normal / Visual   |`j`                   |下にカーソルを移動する                                             |
|Normal / Visual   |`k`                   |上にカーソルを移動する                                             |
|Normal / Visual   |`l`                   |右にカーソルを移動する                                             |
|Normal / Visual   |`w`                   |カーソルから見て次の単語の先頭にジャンプする                       |
|Normal / Visual   |`e`                   |カーソルから見て次の単語の末尾にジャンプする                       |
|Normal / Visual   |`b`                   |カーソルから見て前の単語の先頭にジャンプする                       |
|Normal / Visual   |`gg`                  |ファイルの1行目に移動する                                          |
|Normal / Visual   |`G`                   |ファイルの最終行に移動                                             |
|Normal / Visual   |`[数字]gg` / `[数字]G`|入力した数字の行番号に移動する                                     |
|Normal            |`v`                   |現在のカーソル位置から文字単位選択できるVisualModeに入る           |
|Normal            |`V`                   |現在のカーソル位置から行単位選択するVisualModeに入る               |
|Normal            |`i`                   |現在のカーソル位置の前からInsertModeに入る                         |
|Normal            |`I`                   |現在のカーソル位置の行頭に移動してInsertModeに入る                 |
|Normal            |`a`                   |現在のカーソル位置の後ろからInsertModeに入る                       |
|Normal            |`A`                   |現在のカーソル位置の行末に移動してInsertModeに入る                 |
|Normal            |`o`                   |現在のカーソル位置から下に改行してInsertModeに入る                 |
|Normal            |`O`                   |現在のカーソル位置から上に改行してInsertModeに入る                 |
|Normal            |`yy`                  |現在のカーソル行をヤンク（コピー）する                             |
|Normal            |`dd`                  |現在のカーソル行を削除する                                         |
|Visual            |`y`                   |選択範囲をヤンク（コピー）する                                     |
|Visual            |`d`                   |選択範囲を削除する                                                 |
|Visual            |`c`                   |選択範囲を削除してInsertModeに入る                                 |
|Normal            |`p`                   |Vim内で削除・ヤンク（コピー）した物を、カーソル位置の後に挿入する。|
|                  |                      |行そのもの削除・ヤンク（コピー）したのであれば、下の行に挿入する   |
|Normal            |`P`                   |Vim内で削除・ヤンク（コピー）した物を、カーソル位置の前に挿入する。|
|                  |                      |行そのもの削除・ヤンク（コピー）したのであれば、上の行に挿入する   |
|NormalMode以外共通|`ESC`                 |NormalModeに戻る                                                   |

<!-- textlint-enable -->

ここでは敢て削除・ヤンク（コピー）の操作に関しては、VisualModeを内で操作することをお勧めします。
これらの操作はオペレータという物になりますが、最初の内は簡単な操作に限定しておくとよいです。

また、テキストオブジェクトというお勧めしたい操作方法がありますが、最初の内は難しいと思うのでここでは紹介を省きました。
vimtutorの中で紹介されると思いますが、慣れるまではVisualModeを介して操作することをお勧めします。

そして、どこの入門でもいわれる鉄則みたいなルールですが、困ったらESCでNormalModeに戻りましょう。
NormalModeこそがVimのあるべき姿であり、戻るべき場所なのです。

## Step.3 `.vimrc`を作成してみる

## 最後に
